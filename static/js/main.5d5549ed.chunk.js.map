{"version":3,"sources":["pages/Api.js","../../src/symbols.js","../../src/hocs/withInstancesManager.js","pages/Home.js","../../src/hooks/withHookInstanceManage.js","pages/example/Example.js","pages/example/example-list.js","pages/example/index.js","pages/App.js","index.js"],"names":["Api","alt","src","style","width","height","filter","Symbol","withInstancesManager","Component","SYMBOLS","managedUseState","hook","managedHook","Proxy","get","Reflect","set","apply","name","args","result","useEffect","withHookInstanceManage","useState","Child","count","App","onClick","console","log","getInstance","value","setValue","Example","example","codeSandboxId","border","borderRadius","overflow","title","allow","sandbox","path","Examples","exampleList","map","e","process","key","Title","Typography","Content","Layout","Sider","history","useHistory","theme","level","textAlign","mode","onSelect","push","Item","SubMenu","className","Home","ReactDOM","render","hashType","document","getElementById"],"mappings":"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","file":"static/js/main.5d5549ed.chunk.js","sourcesContent":["import React from 'react'\n\nconst Api = () => {\n  return (\n    <img\n      alt='coming soon.jpg'\n      src='https://images.squarespace-cdn.com/content/v1/5ba5d4bce5f7d1371dd93916/1538330115654-1V19SYVKRS6IX5P1VVG0/ke17ZwdGBToddI8pDm48kDFgITcRoterXoQdllT5ciUUqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8N_N4V1vUb5AoIIIbLZhVYxCRW4BPu10St3TBAUQYVKcV7ZyRJyI8bwZiMJRrgPaAKqUaXS0tb9q_dTyNVba_kClt3J5x-w6oTQbPni4jzRa/coming+soon.jpg?format=1500w'\n      style={{ width: '100%', height: '100%', filter: 'invert(100%)' }}\n    />\n  )\n}\n\nexport default Api\n","export default {\n  INSTANCES: Symbol('instances'),\n  OBSERVERS: Symbol('observers')\n}\n","import SYMBOLS from '../symbols'\n\nexport default function withInstancesManager(Component) {\n  Component[SYMBOLS.INSTANCES] = new Map()\n\n  Component.getInstances = () => Component[SYMBOLS.INSTANCES]\n\n  Component.getInstance = (key) => Component.getInstances().get(key)\n\n  Component.addInstance = (key, instance) =>\n    Component.getInstances().set(key, instance)\n\n  Component.removeInstance = (key) => Component.getInstances().delete(key)\n\n  Component.isInstanceExist = (key) =>\n    Component.getInstances().has(key) && Component.getInstances().get(key)\n\n  return Component\n}\n","import React, { useState } from 'react'\nimport { withHookInstanceManage } from 'react-instances'\n\nconst managedUseState = withHookInstanceManage(useState)\n\nconst App = () => {\n  return (\n    <div>\n      <Child />\n      <button\n        onClick={() => {\n          console.log(managedUseState.getInstance('state'))\n          const [value, setValue] = managedUseState.getInstance('state')\n          setValue(value + 1)\n        }}\n      >\n        useState\n      </button>\n      <button\n        onClick={() => {\n          const [value, setValue] = useState.getInstance('state')\n          setValue(value + 1)\n        }}\n      >\n        useState\n      </button>\n    </div>\n  )\n}\n\nconst Child = () => {\n  const [count] = managedUseState('state', 0)\n\n  return <p>{count}</p>\n}\n\nexport default App\n","import { useEffect } from 'react'\nimport { withInstancesManager } from '..'\n\nexport default function withHookInstanceManage(hook) {\n  const managedHook = withInstancesManager(hook)\n\n  return new Proxy(managedHook, {\n    get: Reflect.get,\n    set: Reflect.set,\n    apply(target, thisArgument, [name, ...args]) {\n      const result = Reflect.apply(target, thisArgument, args)\n      managedHook.addInstance(name, result)\n\n      useEffect(() => () => managedHook.removeInstance(name), [])\n\n      return result\n    }\n  })\n}\n","import React from 'react'\n\nconst Example = ({ example }) => {\n  return (\n    <iframe\n      src={`https://codesandbox.io/embed/react-instances-example-${example.codeSandboxId}?autoresize=1&fontsize=14&hidenavigation=1&theme=light`}\n      style={{\n        width: '100%',\n        height: '100%',\n        border: 0,\n        borderRadius: 4,\n        overflow: 'hidden'\n      }}\n      title='react-instances-example'\n      allow='accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking'\n      sandbox='allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts'\n    />\n  )\n}\n\nexport default Example\n","export default [\n  {\n    name: 'Basic',\n    path: '/basic',\n    codeSandboxId: 'psu2e'\n  },\n  {\n    name: 'Custom prop name',\n    path: '/custom-prop-name',\n    codeSandboxId: '6sfkm'\n  },\n  {\n    name: 'Manage existing class component',\n    path: '/exist-cc',\n    codeSandboxId: 'rnlh7'\n  },\n  {\n    name: 'Manage hook instance',\n    path: '/manage-hook',\n    codeSandboxId: 'cd47x'\n  }\n]\n","import React from 'react'\nimport { Switch, Route } from 'react-router-dom'\nimport Example from './Example'\n\nimport exampleList from './example-list'\n\nconst Examples = () => (\n  <Switch>\n    {exampleList.map((e) => (\n      <Route path={`${process.env.PUBLIC_URL}/example${e.path}`} key={e.path}>\n        <Example example={e} />\n      </Route>\n    ))}\n  </Switch>\n)\n\nexport default Examples\n","import React from 'react'\nimport { Switch, Route, useHistory } from 'react-router-dom'\nimport { Layout, Menu, Typography } from 'antd'\n\nimport Api from './Api'\nimport Home from './Home'\nimport Examples from './example'\nimport exampleList from './example/example-list'\n\nconst { Title } = Typography\nconst { Content, Sider } = Layout\n\nexport default function App() {\n  const history = useHistory()\n\n  return (\n    <Layout style={{ height: '100%' }}>\n      <Sider\n        theme='light'\n        width={300}\n        style={{\n          overflow: 'auto',\n          height: '100%'\n        }}\n      >\n        <Title level={3} style={{ textAlign: 'center' }}>\n          react-instances\n        </Title>\n        <Menu\n          theme='light'\n          mode='inline'\n          onSelect={({ key }) => history.push(key)}\n        >\n          <Menu.Item key={`${process.env.PUBLIC_URL}/`}>Home</Menu.Item>\n          <Menu.Item key={`${process.env.PUBLIC_URL}/api`}>API</Menu.Item>\n          <Menu.SubMenu key='examples' title='Examples'>\n            {exampleList.map((e) => (\n              <Menu.Item key={`${process.env.PUBLIC_URL}/example${e.path}`}>\n                {e.name}\n              </Menu.Item>\n            ))}\n          </Menu.SubMenu>\n        </Menu>\n      </Sider>\n      <Layout className='site-layout' style={{ width: 'auto', height: '100%' }}>\n        <Content style={{ overflow: 'initial', height: '100%' }}>\n          <div\n            className='site-layout-background'\n            style={{ textAlign: 'center', height: '100%' }}\n          >\n            <Switch>\n              <Route path='/api'>\n                <Api />\n              </Route>\n              <Route path='/example'>\n                <Examples />\n              </Route>\n              <Route path='/'>\n                <Home />\n              </Route>\n            </Switch>\n          </div>\n        </Content>\n      </Layout>\n    </Layout>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport 'antd/dist/antd.css'\nimport App from './pages/App'\nimport { HashRouter as Router } from 'react-router-dom'\n\nReactDOM.render(\n  <Router hashType='noslash'>\n    <App />\n  </Router>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}